<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnviLog</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="dashboard">
        <h1>EnviLog</h1>
        
        <!-- Main Metrics Grid -->
        <div class="status-grid">
            <!-- Temperature Metric -->
            <div class="metric-area">
                <div class="metric-value" id="temperature-value">--°C</div>
                <div class="metric-label">Temperature</div>
            </div>
            
            <!-- Humidity Metric -->
            <div class="metric-area">
                <div class="metric-value" id="humidity-value">--%</div>
                <div class="metric-label">Humidity</div>
            </div>
            
            <!-- Status Metric -->
            <div class="metric-area">
                <div class="metric-value" id="sensor-status">●</div>
                <div class="metric-label">Sensor</div>
            </div>
        </div>

        <hr class="section-separator">

        <!-- System Information -->
        <div class="system-section">
            <h2>System</h2>
            <div class="status-item">
                <span>Free Heap</span>
                <span id="heap-size">Loading...</span>
            </div>
            <div class="status-item">
                <span>Uptime</span>
                <span id="uptime">Loading...</span>
            </div>
            <div class="status-item">
                <span>WiFi Status</span>
                <span id="wifi-status">Loading...</span>
            </div>
            <div class="status-item">
                <span>Signal</span>
                <span id="rssi">Loading...</span>
            </div>
        </div>

        <hr class="section-separator">

        <!-- Configuration Section -->
        <div class="config-section">
            <h2>Network Settings</h2>
            <form id="network-config-form" class="config-form">
                <div class="form-group">
                    <label for="wifi-ssid">WiFi Network</label>
                    <input type="text" id="wifi-ssid" name="wifi_ssid" placeholder="Enter network name">
                </div>
                <div class="form-group">
                    <label for="wifi-password">Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" 
                            id="wifi-password" 
                            name="wifi_password" 
                            placeholder="Enter password"
                            autocomplete="off" 
                            required>
                        <button type="button" 
                                class="password-toggle" 
                                onpointerdown="showPassword('wifi-password')" 
                                onpointerup="hidePassword('wifi-password')" 
                                onpointerleave="hidePassword('wifi-password')">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                                <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <button type="submit">Save Settings</button>
            </form>
        </div>

        <hr class="section-separator">

        <!-- MQTT Settings -->
        <div class="config-section">
            <h2>MQTT Settings</h2>
            <form id="mqtt-config-form" class="config-form">
                <div class="form-group">
                    <label for="broker-url">Broker URL</label>
                    <input type="text" id="broker-url" name="broker_url" placeholder="mqtt://broker.example.com">
                </div>
                <button type="submit">Save Settings</button>
            </form>
        </div>
    </div>
    
    <script src="/js/main.js"></script>

    <!-- Connection Modal -->
    <div id="connection-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Connecting to WiFi...</h3>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Dynamic content will be inserted here -->
            </div>
            <div class="modal-footer" id="modal-footer">
                <!-- Dynamic buttons will be inserted here -->
            </div>
        </div>
    </div>
</body>
</html>
